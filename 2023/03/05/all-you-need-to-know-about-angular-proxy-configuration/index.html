<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="angular proxy config,set proxy settings,proxy setup">
    
    <meta name="author" content="Sunny Sun">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://coffeethinkcode.com/2023/03/05/all-you-need-to-know-about-angular-proxy-configuration/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="A complete guide on setting up a proxy in Angular for API calls behind a corporate proxy or with windows authentication  Angular Developers use Angular CLI for local development. One of the most comm">
<meta property="og:type" content="article">
<meta property="og:title" content="All You Need to Know About Angular Proxy Configuration">
<meta property="og:url" content="http://coffeethinkcode.com/2023/03/05/all-you-need-to-know-about-angular-proxy-configuration/index.html">
<meta property="og:site_name" content="Love what you do">
<meta property="og:description" content="A complete guide on setting up a proxy in Angular for API calls behind a corporate proxy or with windows authentication  Angular Developers use Angular CLI for local development. One of the most comm">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://miro.medium.com/v2/resize:fit:1120/1*_2jpbQ3XXY-FzQ3Nq-8DSQ.png">
<meta property="og:image" content="https://miro.medium.com/v2/resize:fit:1120/1*kewDSVjh_LP_TjNEEitLAA.png">
<meta property="og:image" content="https://miro.medium.com/v2/resize:fit:1120/1*EWspU6LBiNGgJX32wz7yow.png">
<meta property="article:published_time" content="2023-03-05T01:14:56.000Z">
<meta property="article:modified_time" content="2024-07-07T04:23:21.946Z">
<meta property="article:author" content="Sunny">
<meta property="article:tag" content="TypeScript">
<meta property="article:tag" content="Angular">
<meta property="article:tag" content="Proxy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://miro.medium.com/v2/resize:fit:1120/1*_2jpbQ3XXY-FzQ3Nq-8DSQ.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/redefine-favicon.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/redefine-favicon.svg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/images/redefine-favicon.svg">
    <!--- Page Info-->
    
    <title>
        
            All You Need to Know About Angular Proxy Configuration -
        
        Do What You Love
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    
        
            
    
            
    
            
                
                    <script data-swup-reload-script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7754282426229634" crossorigin="anonymous"></script>
                
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css">

    
<link rel="stylesheet" href="/fonts/Geist/geist.css">

    <!--- Font Part-->
    
    
    
    

    

    <script id="hexo-configurations">
    window.config = {"hostname":"coffeethinkcode.com","root":"/","language":"en","path":"search.xml"};
    window.theme = {"articles":{"style":{"font_size":"14px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"title_alignment":"left","headings_top_spacing":{"h1":"3.2rem","h2":"2.4rem","h3":"1.9rem","h4":"1.6rem","h5":"1.4rem","h6":"1.3rem"}},"word_count":{"enable":true,"count":true,"min2read":true,"wordcount":true},"author_label":{"enable":true,"auto":false,"list":[],"custom_label_list":["lol"]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"recommendation":{"enable":true,"title":"Recommended","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":["wiki/"],"icon":"fa-solid fa-bookmark","max_count":3,"placeholder_img":"https://evan.beee.top/img/wallhaven-wqery6-light.webp"}},"colors":{"primary":"#A31F34","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":false,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"https://evan.beee.top/img/wallhaven-wqery6-light.webp","dark":"https://evan.beee.top/img/wallhaven-wqery6-dark.webp"},"title":"love what you do","subtitle":{"text":"love what you do","hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":false,"style":"default","links":{"github":null,"instagram":null,"zhihu":null,"twitter":null,"email":null},"qrs":{"weixin":null}},"logo_img":"https://cdn-images-1.medium.com/fit/c/64/64/1*wNZ_uqRg-IDdEkWRUw27pA.jpeg# logo image on the left of the navigation bar"},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null,"lrc":null}],"audio":[{"name":null,"artist":null,"url":null,"cover":null},{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.6.4","code_block":{"copy":true,"style":"mac","custom_font":{"enable":false,"font_family":null,"font_url":null}},"navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Github":"https://github.com/sunnyy02","Medium":"https://medium.com/@sunnysun-5694","LogRocket":"https://blog.logrocket.com/author/yansun/"}}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"show_on_mobile":true,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"}}},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/8/17 11:45:14"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Love what you do" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
<!--        <span class="swup-progress-icon">-->
<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
<!--        </span>-->
    
</div>



<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container px-6 md:px-12">

    <div class="navbar-content ">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="https://cdn-images-1.medium.com/fit/c/64/64/1*wNZ_uqRg-IDdEkWRUw27pA.jpeg">
                </a>
            
            <a class="logo-title" href="/">
                
                Do What You Love
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    ARCHIVES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    ABOUT
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/about">
                                                    ME
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://github.com/sunnyy02">
                                                    GITHUB
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://medium.com/@sunnysun-5694">
                                                    MEDIUM
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://blog.logrocket.com/author/yansun/">
                                                    LOGROCKET
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                ARCHIVES
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-About"
                        >
                            <span>
                                ABOUT
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/about">ME</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://github.com/sunnyy02">GITHUB</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://medium.com/@sunnysun-5694">MEDIUM</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://blog.logrocket.com/author/yansun/">LOGROCKET</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
                
                    
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/tags"
                        >
                            <span>Tags</span>
                            <i class="fa-regular fa-tags fa-sm fa-fw"></i>
                        </a>
                    </li>
                
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">37</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">16</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">34</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container flex relative justify-between box-border w-full h-full">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                
                
                <img src="https://cdn-images-1.medium.com/max/800/1*Pzb62OGNzyUwSQrucDVe9A.png" alt="All You Need to Know About Angular Proxy Configuration" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"/>
                
                <div class="w-full flex items-center absolute bottom-0 justify-start">
                    <h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-semibold backdrop-blur-lg rounded-xl border border-border-color ">All You Need to Know About Angular Proxy Configuration</h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="/images/icons8-stormtrooper.svg">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">Sunny Sun</span>
                        
                            <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv4</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-03-05 11:14:56</span>
        <span class="mobile">2023-03-05 11:14:56</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2024-07-07 14:23:21</span>
            <span class="mobile">2024-07-07 14:23:21</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/Web-Development/">Web Development</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/TypeScript/">TypeScript</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Angular/">Angular</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Proxy/">Proxy</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>1.5k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>9 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <h3>
A complete guide on setting up a proxy in Angular for API calls behind a corporate proxy or with windows authentication
</h3>
Angular Developers use Angular CLI for local development. One of the most common needs is to set up a proxy in the local dev environment to avoid CORS error when the Angular app sends an HTTP request to an API residing on a different domain. Angular CLI makes the process relatively easy but can be tricky in some edge cases.

<p>In this article, I am going to discuss how to set up a dev server proxy for</p>
<ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://medium.com/javascript-in-plain-english/all-you-need-to-know-about-angular-proxy-configuration-a1aeb2d8c86#e0ed" >proxy to API in localhost <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   target="_blank" rel="noopener" href="https://medium.com/javascript-in-plain-english/all-you-need-to-know-about-angular-proxy-configuration-a1aeb2d8c86#d919" >proxy to external API within a corporate network <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   target="_blank" rel="noopener" href="https://medium.com/javascript-in-plain-english/all-you-need-to-know-about-angular-proxy-configuration-a1aeb2d8c86#2e9b" >proxy to API using Windows authentication (IIS) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li>m<a class="link"   target="_blank" rel="noopener" href="https://medium.com/javascript-in-plain-english/all-you-need-to-know-about-angular-proxy-configuration-a1aeb2d8c86#55ad" >ultiple schemes in one WWW-Authenticate header <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
<h3 id="Setup-a-proxy-to-connect-to-API-in-localhost"><a href="#Setup-a-proxy-to-connect-to-API-in-localhost" class="headerlink" title="Setup a proxy to connect to API in localhost"></a>Setup a proxy to connect to API in localhost</h3><p>We can start the local dev server using the command below with Angular CLI.</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng serve</span><br></pre></td></tr></table></figure></div>
<p>The command invokes the internal dev server based on  <a class="link"   target="_blank" rel="noopener" href="https://webpack.js.org/configuration/dev-server/" >webpack dev server <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>. By default, the dev server runs on  <code>[http://localhost:4200](http://localhost:4200./)</code><a href="http://localhost:4200./">.</a></p>
<p>When the Angular app needs to call its backend API, which is also hosted locally at  <code>[http://localhost:3000](http://localhost:3000./),</code> then we will encounter a CORS error because the HTTP call uses a different origin (<code>localhost:3000</code>).</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.http.get(&#x27;http://locahost:3000/api/&#x27;)  </span><br><span class="line">    .subscribe(res =&gt; &#123;...&#125;);</span><br></pre></td></tr></table></figure></div>
<p>The CORS issue can be resolved by configuring the Angular dev server proxy. A sample proxy config can be created below</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// proxy.conf.json  </span><br><span class="line">&#123;  </span><br><span class="line">  &quot;/api&quot;: &#123; &quot;target&quot;: &quot;http://localhost:3000&quot;, &quot;secure&quot;: false,  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">// we change the angular http call to remove the domain prefix  </span><br><span class="line">this.http.get(&#x27;/api/&#x27;)  </span><br><span class="line">    .subscribe(res =&gt; &#123;...&#125;);</span><br></pre></td></tr></table></figure></div>
<p>As illustrated by the following diagram, the proxy sits between the Angular app and the backend API and translates the “<code>api/v1</code>” calls to backend API. The CORS error doesn’t happen because the call to API is the same origin (<code>[localhost:4200](http://localhost:4200./)/api</code><strong>)</strong>  now.</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://miro.medium.com/v2/resize:fit:1120/1*_2jpbQ3XXY-FzQ3Nq-8DSQ.png"
                     
                ></p>
<p>To make the proxy configuration take effect, it must be passed into the  <code>ng serve</code>  command.</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ng serve --proxy-config proxy.conf.json</span><br><span class="line"></span><br><span class="line">Or we can add it to the  `angular.json`  configuration</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&quot;serve&quot;: &#123;  </span><br><span class="line">  ...  </span><br><span class="line">  &quot;options&quot;: &#123;  </span><br><span class="line">    ...  </span><br><span class="line">    &quot;proxyConfig&quot;: &quot;proxy.conf.json&quot;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="Connect-to-external-API-behind-corporate-Proxy"><a href="#Connect-to-external-API-behind-corporate-Proxy" class="headerlink" title="Connect to external API behind corporate Proxy"></a>Connect to external API behind corporate Proxy</h3><p>Often, we worked within a corporate network, and the Angular app in a local dev environment also needed to connect to an external API. Using the previous example, we might need to call  <a class="link"   target="_blank" rel="noopener" href="http://abc.company.com/api." >http://abc.company.com/api <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>  in the Angular app instead of calling  <a href="http://localhost:3000,/">http://localhost:3000/api</a>.</p>
<p>Accessing an external API behind a corporate proxy requires  <code>HTTP_PROXY</code>  and  <code>HTTPS_PROXY</code>  environment variables to be configured. If the proxy utilizes an SSL certificate, the  <code>secure</code>  flag must be false to bypass the certificate verification.</p>
<p>To handle corporate proxy, we need to create a  <code>proxy.conf.js</code>  as below.</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const HttpsProxyAgent = require(&#x27;https-proxy-agent&#x27;);  </span><br><span class="line">  </span><br><span class="line">const proxyConfig = [  </span><br><span class="line">  &#123;  </span><br><span class="line">    context: &#x27;/api&#x27;,  </span><br><span class="line">    pathRewrite: &#123; &#x27;^/api&#x27;: &#x27;&#x27; &#125;,  </span><br><span class="line">    target: &#x27;https://api.abc.com&#x27;,  </span><br><span class="line">    changeOrigin: true,  </span><br><span class="line">    secure: false  </span><br><span class="line">  &#125;  </span><br><span class="line">];  </span><br><span class="line">  </span><br><span class="line">function setupForCorporateProxy(proxyConfig) &#123;  </span><br><span class="line">  const proxyServer = process.env.http_proxy || process.env.HTTP_PROXY;  </span><br><span class="line">  </span><br><span class="line">  if (proxyServer) &#123;  </span><br><span class="line">    const agent = new HttpsProxyAgent(proxyServer);  </span><br><span class="line">    proxyConfig.forEach(c =&gt; &#123;  </span><br><span class="line">      c.agent = agent;  </span><br><span class="line">    &#125;);  </span><br><span class="line">  &#125;  </span><br><span class="line">  return proxyConfig;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">module.exports = setupForCorporateProxy(proxyConfig);</span><br></pre></td></tr></table></figure></div>
<p>In the above example, we proxy a request like  <code>api/v1/client</code>  to an external server  <code>https://api.abc.com/v1/client</code>. When a corporate proxy is required, we set up an  <a class="link"   target="_blank" rel="noopener" href="https://nodejs.org/api/https.html#https_class_https_agent" >HTTPS agent <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>  object in the proxy based on  <code>HTTP_PROXY</code>  and  <code>HTTPS_PROXY</code>  environment variables. The  <code>secure:false</code>  option is added to handle the custom SSL certificate in the corporate proxy.</p>
<p>To use the new js configuration for the Angular app, run the following</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng serve --proxy-config proxy.conf.js</span><br></pre></td></tr></table></figure></div>
<p>It is worth noting that there are two types of agents:  <code>HttpsProxyAgent</code>  and  <code>HttpProxyAgent,</code>  it is necessary to choose the appropriate one based on the environment setting.</p>
<h3 id="Proxy-to-API-using-Windows-authentication-IIS"><a href="#Proxy-to-API-using-Windows-authentication-IIS" class="headerlink" title="Proxy to API using Windows authentication (IIS)"></a>Proxy to API using Windows authentication (IIS)</h3><p>Many companies rely on the Microsoft ecosystem, and Windows authentication is widely used. However, the situation can be tricky if the Angular App connects to an API service hosted with IIS protected by Windows authentication.</p>
<p>The typical problem is that the call from the Angular app to the API will return 401 when using the proxy setting in the local dev environment.</p>
<p>For example,  <code>/api/v1/../login</code>  is an Endpoint protected by Windows Authentication, the request to the API from a locally running Angular App receives 401 unauthorized responses. Below is the screenshot of the network tab in Chrome dev tools.</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://miro.medium.com/v2/resize:fit:1120/1*kewDSVjh_LP_TjNEEitLAA.png"
                     
                ></p>
<p>failed request</p>
<p>The root cause of the issue is that Windows authentication is connection-based, but the Proxy breaks the keep-live connection.</p>
<p>Under the hood of Windows authentication, it uses either Kerberos or NTLM; either protocol will require a keep-live connection to keep the authentication state.</p>
<p>When the  <code>/api/v1/../login</code>  is called, the browser tries to establish a connection with the IIS server via NTLM negotiation handshake, which includes three parts. They are the Type-1 message, the Type-2, and the Type-3 message. You can find more details of the NTLM handshake  <a class="link"   target="_blank" rel="noopener" href="https://web.archive.org/web/20210126065105/http://www.innovation.ch/personal/ronald/ntlm.html" >here <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>. You may already notice two HTTP calls shown for the same request in the above screenshot. They are the first two parts of the handshake.</p>
<p>Because the request is proxying locally, the three handshake messages were sent in 3 separate requests(sockets) through the proxy. Thus, a keep-live connection can’t be kept in the process, so the last message didn’t occur.</p>
<p>To fix the issue, We need to configure the proxy to maintain a single connection between the browser and IIS server. The<code>[agentkeepalive](https://github.com/node-modules/agentkeepalive#readme)</code>  package can help us to achieve this goal. The updated proxy configuration is shown below.</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const Agent = require(&quot;agentkeepalive&quot;);  </span><br><span class="line">  </span><br><span class="line">const keepaliveAgent = new Agent(&#123;  </span><br><span class="line">    maxSockets: 1,  </span><br><span class="line">    keepAlive: true,  </span><br><span class="line">    maxFreeSockets: 10,  </span><br><span class="line">    keepAliveMsecs: 1000,  </span><br><span class="line">    timeout: 60000,  </span><br><span class="line">    keepAliveTimeout: 30000 // free socket keepalive for 30 seconds  </span><br><span class="line">&#125;);  </span><br><span class="line">  </span><br><span class="line">const PROXY_CONFIG = [  </span><br><span class="line">    &#123;  </span><br><span class="line">        target: &quot;http://localhost:3000&quot;,  </span><br><span class="line">        context: &quot;/api&quot;,  </span><br><span class="line">        secure: false,  </span><br><span class="line">        changeOrigin: true,  </span><br><span class="line">        loglevel: &quot;debug&quot;,  </span><br><span class="line">        agent: keepaliveAgent  </span><br><span class="line">    &#125;  </span><br><span class="line">];  </span><br><span class="line">module.exports = PROXY_CONFIG;</span><br></pre></td></tr></table></figure></div>
<p>The updated proxy config set the  <code>maxSockets</code>  to 1,  <code>keepAlive</code>  flag to true and set the timeout to 30 seconds, which is long enough to complete the handshake. This config aims to make  <code>http.Agent</code>  to maintain a keep-live connection between the browser and IIS server via proxy in the authentication process.</p>
<p>Now, the  <code>/api/v1/../login</code>  API request should work.</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://miro.medium.com/v2/resize:fit:1120/1*EWspU6LBiNGgJX32wz7yow.png"
                     
                ></p>
<p>success request</p>
<p>The network tab logs above after successful authentication with the new config. We can see the three requests during the handshake, and the last one returns HTTP 200 success status.</p>
<h3 id="Multiple-schemes-in-one-WWW-Authenticate-header"><a href="#Multiple-schemes-in-one-WWW-Authenticate-header" class="headerlink" title="Multiple schemes in one WWW-Authenticate header"></a>Multiple schemes in one WWW-Authenticate header</h3><p>Another possible cause of the error from Windows authentication is the  <code>www-authenticate</code>  header. According to RFC 7235, it is okay to have multiple authentication schemes in one  <code>www-authenticate</code>  header field, although it can make the field difficult to be parsed.</p>
<blockquote>
<p>agents will need to take special care in parsing the WWW-<br>Authenticate or Proxy-Authenticate header field value if it contains<br>more than one challenge, or if more than one WWW-Authenticate header<br>field is provided, since the contents of a challenge may itself<br>contain a comma-separated list of authentication parameters.</p>
</blockquote>
<p>The reality is that the browser support is  <a class="link"   target="_blank" rel="noopener" href="http://test.greenbytes.de/tech/tc/httpauth/" >questionable <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>. Below is an example of the www-authenticate header with two schemes.</p>
<p><code>WWW-Authenticate: Negotiate, NTLM</code></p>
<p>Some browsers may not be able to parse the above correctly, and this will break the NTLM handshake process. To resolve this issue, we can utilize the  <code>proxyRes</code>  callback in the  <code>[http-proxy-middleware](https://www.npmjs.com/package/http-proxy-middleware)</code>  as below</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const onProxyRes = function (proxyRes, req, res) &#123;  </span><br><span class="line">     var key = &#x27;www-authenticate&#x27;;  </span><br><span class="line">     proxyRes.headers[key] = proxyRes.headers[key] &amp;&amp; proxyRes.headers[key].split(&#x27;,&#x27;);  </span><br><span class="line">&#125;;  </span><br><span class="line">  </span><br><span class="line">// add it into the proxy config option  </span><br><span class="line">onProxyRes: onProxyRes</span><br></pre></td></tr></table></figure></div>
<p>The full proxy configuration looks like below.</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const Agent = require(&quot;agentkeepalive&quot;);  </span><br><span class="line">  </span><br><span class="line">const keepaliveAgent = new Agent(&#123;  </span><br><span class="line">    maxSockets: 1,  </span><br><span class="line">    keepAlive: true,  </span><br><span class="line">    maxFreeSockets: 10,  </span><br><span class="line">    keepAliveMsecs: 1000,  </span><br><span class="line">    timeout: 60000,  </span><br><span class="line">    keepAliveTimeout: 30000 // free socket keepalive for 30 seconds  </span><br><span class="line">&#125;);  </span><br><span class="line">const onProxyRes = function (proxyRes, req, res) &#123;  </span><br><span class="line">     var key = &#x27;www-authenticate&#x27;;  </span><br><span class="line">     proxyRes.headers[key] = proxyRes.headers[key] &amp;&amp; proxyRes.headers[key].split(&#x27;,&#x27;);  </span><br><span class="line">&#125;;  </span><br><span class="line">const PROXY_CONFIG = [  </span><br><span class="line">    &#123;  </span><br><span class="line">        target: &quot;http://localhost:3000&quot;,  </span><br><span class="line">        context: &quot;/api&quot;,  </span><br><span class="line">        secure: false,  </span><br><span class="line">        changeOrigin: true,  </span><br><span class="line">        onProxyRes: onProxyRes,  </span><br><span class="line">        agent: keepaliveAgent  </span><br><span class="line">    &#125;  </span><br><span class="line">];  </span><br><span class="line">module.exports = PROXY_CONFIG;</span><br></pre></td></tr></table></figure></div>
<p>With the new callback added, the multiple schemes in the  <code>www-authenticate</code>  header will be sent in multiple lines, and the NTLM negotiation handshake can continue.</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// From the original response header  </span><br><span class="line">www-authenticate: Negotiate, NTLM  </span><br><span class="line">  </span><br><span class="line">// After the onProxRes callback function  </span><br><span class="line">www-authenticate: [&#x27;Negotiate&#x27;, &#x27;NTLM&#x27;]  </span><br><span class="line">  </span><br><span class="line">// It is equivalent to  </span><br><span class="line">&lt; WWW-Authenticate: Negotiate  </span><br><span class="line">&lt; WWW-Authenticate: NTLM  </span><br></pre></td></tr></table></figure></div>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>This article discusses how to avoid CORS issues by setting up a proxy using Angular CLI for local development. I hope it is useful if you’re working on Angular behind a corporate proxy and&#x2F;or using IIS with Windows authentication.</p>
<p>Happy programming!</p>

        </div>

        
            <div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> All You Need to Know About Angular Proxy Configuration</li>
        <li><strong>Author:</strong> Sunny Sun</li>
        <li><strong>Created at
                :</strong> 2023-03-05 11:14:56</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2024-07-07 14:23:21
            </li>
        
        <li>
            <strong>Link:</strong> http://coffeethinkcode.com/2023/03/05/all-you-need-to-know-about-angular-proxy-configuration/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/TypeScript/">#TypeScript</a>&nbsp;
                    </li>
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/Angular/">#Angular</a>&nbsp;
                    </li>
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/Proxy/">#Proxy</a>&nbsp;
                    </li>
                
            </ul>
        

        
  <div class="recommended-article px-2 sm:px-6 md:px-8">
   <div class="recommended-desktop">
    <div class="recommended-article-header text-xl md:text-3xl font-bold mt-10">
     <i aria-hidden="true"></i><span>Recommended</span>
    </div>
    <div class="recommended-article-group"><a class="recommended-article-item" href="/2023/07/02/host-angular-iis-nginx/" title="Host Angular App in IIS vs. Nginx" rel="bookmark">
  <img src="https://miro.medium.com/v2/resize:fit:4800/format:webp/1*Pm3UYwThC5GefRnjk5v1ng.png" alt="Host Angular App in IIS vs. Nginx" class="!max-w-none">
  <span class="title">Host Angular App in IIS vs. Nginx</span>
</a><a class="recommended-article-item" href="/2023/02/12/host-free-personal-knowledge-base/" title="Host Your Free Personal Knowledge Base With Trilium Notes" rel="bookmark">
  <img src="https://miro.medium.com/v2/resize:fit:4800/format:webp/1*4uNgAiUJyK_6Mqa4E5QJPQ.png" alt="Host Your Free Personal Knowledge Base With Trilium Notes" class="!max-w-none">
  <span class="title">Host Your Free Personal Knowledge Base With Trilium Notes</span>
</a><a class="recommended-article-item" href="/2024/02/05/durandal-angular/" title="Durandal vs Angular" rel="bookmark">
  <img src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*Xbq4XJa6oQ-10YLsjAF-bQ.png" alt="Durandal vs Angular" class="!max-w-none">
  <span class="title">Durandal vs Angular</span>
</a></div>
   </div>
   <div class="recommended-mobile">
   <div class="recommended-article-header text-xl md:text-3xl font-bold mt-10">
     <i aria-hidden="true"></i><span>Recommended</span>
   </div>
   <div class="recommended-article-group"><a class="recommended-article-item" href="/2023/07/02/host-angular-iis-nginx/" title="Host Angular App in IIS vs. Nginx" rel="bookmark">
  <img src="https://miro.medium.com/v2/resize:fit:4800/format:webp/1*Pm3UYwThC5GefRnjk5v1ng.png" alt="Host Angular App in IIS vs. Nginx" class="!max-w-none">
  <span class="title">Host Angular App in IIS vs. Nginx</span>
</a><a class="recommended-article-item" href="/2023/02/12/host-free-personal-knowledge-base/" title="Host Your Free Personal Knowledge Base With Trilium Notes" rel="bookmark">
  <img src="https://miro.medium.com/v2/resize:fit:4800/format:webp/1*4uNgAiUJyK_6Mqa4E5QJPQ.png" alt="Host Your Free Personal Knowledge Base With Trilium Notes" class="!max-w-none">
  <span class="title">Host Your Free Personal Knowledge Base With Trilium Notes</span>
</a></div>
   </div>
  </div>

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                    <div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="prev"
                        rel="prev"
                        href="/2023/04/06/type-interface-ts/"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Types vs. interfaces in TypeScript</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2023/02/12/host-free-personal-knowledge-base/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Host Your Free Personal Knowledge Base With Trilium Notes</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">All You Need to Know About Angular Proxy Configuration</div>
        <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-text">
A complete guide on setting up a proxy in Angular for API calls behind a corporate proxy or with windows authentication
</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Setup-a-proxy-to-connect-to-API-in-localhost"><span class="nav-text">Setup a proxy to connect to API in localhost</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Connect-to-external-API-behind-corporate-Proxy"><span class="nav-text">Connect to external API behind corporate Proxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Proxy-to-API-using-Windows-authentication-IIS"><span class="nav-text">Proxy to API using Windows authentication (IIS)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multiple-schemes-in-one-WWW-Authenticate-header"><span class="nav-text">Multiple schemes in one WWW-Authenticate header</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Summary"><span class="nav-text">Summary</span></a></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2022</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Sunny Sun</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        34 posts in total
                    </span>
                    
                        <span>
                            42.3k words in total
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.6.4</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
            
                
        
                
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>





    
<script src="/js/tools/codeBlock.js" type="module"></script>




    
<script src="/js/layouts/lazyload.js" type="module"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>








    
<script src="/js/libs/anime.min.js"></script>



<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
